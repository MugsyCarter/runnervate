 <section>        
       
        <nav class="navbar navbar-default navbar-dark bg-primary">
                <div class="container-fluid">
                  <div class="navbar-header">
                    <a class="navbar-brand" ui-sref="home">CaLynchDB</a>
                  </div>
                  <ul class="nav navbar-nav">
                    <li><a ui-sref="home" class="active"><span class="glyphicon glyphicon-home"></span>Home</a></li>
                    <li ng-if="$ctrl.loggedIn===true"><a ui-sref="user"><span class="glyphicon glyphicon-user"></span>My Account</a></li>
                    <li><a ui-sref="lynchMap"><span class="glyphicon glyphicon-globe"></span>Lynching Map</a></li>
                    <li><a ui-sref="incidents"><span class="glyphicon glyphicon-list"></span>Browse Lynchings</a></li>
                    <li ng-if="$ctrl.user.role==='admin' || $ctrl.user.role=='contributor'"><a ui-sref="addIncident"><span class="glyphicon glyphicon-plus"></span>Add Lynching</a></li>
                    <li><a ui-sref="about"><span class="glyphicon glyphicon-apple"></span>About</a></li>
                    <form class="navbar-form navbar-left">
                        <div class="input-group" ng-hide="$ctrl.state.current.name==='incidents'">
                            <input type="text" class="form-control" placeholder="Search Lynchings by Location" ng-model="$ctrl.searchQuery">
                                <div class="input-group-btn">
                                    <button ng-click="$ctrl.searchFor()" class="btn btn-default" type="submit">
                                        <i class="glyphicon glyphicon-search"></i>
                                    </button>
                                </div>
                        </div>
                    </form>
                    <li ng-if="$ctrl.loggedIn===false"><a ui-sref="login"><span class="glyphicon glyphicon-log-in"></span>Login</a></li> 
                    <li ng-if="$ctrl.loggedIn===true"><a ui-sref="logout"><span class="glyphicon glyphicon-log-out"></span>Log Out</a></li>   
                    <li ng-if="$ctrl.loggedIn===false"><a ui-sref="signup"><span class="glyphicon glyphicon-edit"></span>Sign Up</a></li>    
                  </ul>
                </div>
              </nav>

              <div id="filters" ng-if="$ctrl.state.current.name=='lynchMap' || $ctrl.state.current.name=='incidents'">
                    <div class="row">
                            <label for="inputFilter" class="col-sm-1 control-label" id="filter-label">Filter by </label>
                            <div class=col-sm-2>
                                    <select ng-model="$ctrl.newQuery.category" ng-options="filter.name for filter in $ctrl.filters">
                                    </select>
                            </div>
                            <div class=col-sm-2>
                                    <div ng-if="$ctrl.newQuery.category.name==='county'">
                                            <select  ng-model="$ctrl.newQuery.target" ng-options="county for county in $ctrl.counties">
                                            </select>
                                    </div>
                                    <div ng-if="$ctrl.newQuery.category.name==='place'" >
                                            <input ng-model="$ctrl.newQuery.target" type="text" class="form-control" id="inputPlace" placeholder="Place">
                                    </div>
                                    <div ng-if="$ctrl.newQuery.category.name==='year'">
                                            <input ng-model="$ctrl.newQuery.target" type="number" class="form-control" id="inputYear" min=1500 max=2100>
                                    </div>
                                    <div ng-if="$ctrl.newQuery.category.value==='open'">
                                        <select ng-model="$ctrl.newQuery.target">
                                            <option value="Open">Open</option>
                                            <option value="Secret">Secret</option>
                                            <option value="Unknown">unknown</option>
                                        </select>
                                    </div>
                                    <div ng-if="$ctrl.newQuery.category.value==='lethality'">
                                            <select ng-model="$ctrl.newQuery.target">
                                                <option value="Lethal">Lethal</option>
                                                <option value="Not Lethal">Not Lethal</option>                   
                                            </select>
                                        </div>
                                    <div ng-if="$ctrl.newQuery.category.value==='suspectRace'">
                                        <select ng-model="$ctrl.newQuery.target" ng-options="race for race in $ctrl.races"></select>
                                    </div>
                                    <div ng-if="$ctrl.newQuery.category.value==='suspectNationality'">
                                        <input ng-model="$ctrl.newQuery.target" type="text" class="form-control" id="inputNat" placeholder="Nationality">
                                    </div>
                            </div>
                    <!-- </div> -->
                            <!-- <button ng-if="$ctrl.newQuery.target!==null" class="btn btn-success"  ng-click="$ctrl.addFilter()" ><span class="glyphicon glyphicon-plus"><h6>Add</h6></span></button> -->

                    <!-- <div class="row"> -->
                        <div class="col-sm-2">
                                <button class="btn btn-info" ng-click="$ctrl.searchIncidents()" ><span class="glyphicon glyphicon-search"></span>  Search Lynchings</button>
                        </div>  
                        <label ng-if="$ctrl.queries.length" for="inputFilter" class="col-sm-2 control-label" id="filter-label">Active Filters: <em>Click a Filter to Remove</em></label>
                        <div class="col-sm-2" ng-if="$ctrl.queries.length" ng-repeat="query in $ctrl.queries" >
                                <button type='button' class="{{$ctrl.classes[query.number]}}" ng-click="$ctrl.removeFilter(query)">{{query.category.name}} is {{query.target}}</button>
                        </div>
                    </div>
            </div>

  
    <div class="container-fluid">
        <ui-view></ui-view>
    </div>

    <div class="container-fluid">
        <p class="footer-text"><span class="branding">&copy; David A. Johnson, 2018 </span></p>
    </div>
  </section>